#: import Factory kivy.factory.Factory

MDScreen:
    # Screen name.
    name: "main_screen"

    MDBoxLayout:
        orientation: "vertical"
        # Header.
        MDLabel:
            text: "Wybierz co chcesz poćwiczyć"
            font_style: "H4"
            halign: "center"
            adaptive_height: True
        # Cards.
        MDGridLayout:
            cols: 2
            rows: 2
            padding: "40px"
            spacing: "20px"
            # Multiplication.
            MDCard:
                ripple_behavior: True
                on_release: 
                    app.screen_manager.current = "multiplication_screen"
                    root.manager.transition.direction = "left"
                MDLabel:
                    text: "Tabliczka Mnożenia"
                    halign: "center"
            # Fractions.
            MDCard:
                ripple_behavior: True
                MDLabel:
                    text: "Ułamki"
                    halign: "center"
            # Percents.
            MDCard:
                ripple_behavior: True
                MDLabel:
                    text: "Procenty"
                    halign: "center"
            # Roman Numbers.
            MDCard:
                ripple_behavior: True
                MDLabel:
                    text: "Cyfry rzymskie"
                    halign: "center"

        # Bottom NAV.
        MDBottomNavigation:        
            size_hint_y: .2
            panel_color: (250/255, 232/255, 238/255, 1)
            selected_color_background: (1,0,1,1)
            text_color_active: (1,0,0,1)
            MDBottomNavigationItem: 
                text: "Twój wynik"
                text_color: (0,0,0,1)
                icon: "account"
                on_tab_press: 
                    app.screen_manager.current = "results_screen"
                    root.manager.transition.direction = "left"
            MDBottomNavigationItem: 
                text: "Wyślij wynik"
                icon: "send"
            MDBottomNavigationItem: 
                text: "Koniec"
                icon: "exit-run"
                on_tab_press: 
                    Factory.Ui_Helpers().custom_popup( \
                    t_txt="Potwierdź", \
                    c_txt="Wyniki zostaną utracone.\nMoże najpierw je wyślij.\n\nCzy na pewno wyjść z aplikacji?", \
                    foo=app, \
                    exit_popup=True, \
                    go_main_screen=False)

                    
